<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width= device-width, initial-scale=1.0"> 

<style>
</style>


</head>
<body>
<script>
function s(x){
    return document.querySelector(x)
}
function css(x,y){
    return window.getComputedStyle(x).getPropertyValue(y);
}
function small(x){
    return x.toLowerCase()
}

function big(x){
    return x.toUpperCase()
}
function insertStr(str,index,string){   
	return str.substr(0,index)+string+str.substr(index);
}
function split_at_index(value, index){
	return [value.substring(0,index),value.substring(index)];
}
String.prototype.reverse = function(){
	var x = this;
	var txt = "";
	for(let i=x.length-1;i>-1;i--){
		if(x[i] == " ") break;
		txt += x[i];
	}
	return txt;
}
String.prototype.extract = function(s,e){
	var len = this.length;
	var str = "";
	if(s && !e) {
		for(let i=0;i<s;i++){
			str += this[i];
		}
	}else if(s && e) {
		for(let i=s;i<e;i++){
			str += this[i];
		}
	}
	
	return str;
}
</script>
<script>
//Main code:

/*
syntax:
as x -> 10 : f(x) = x+10
*/

var txt = `as x -> 9 : (x-19)/(-x+19)`;

var error = "";
var result = "";

var variable = "",
	limit = "";
if(txt.startsWith("as")){
	if(txt[2] == " "){
		varible = txt[3];
		var sym = txt.extract(4,8);
		let Col;
		if(sym == " -> "){
			for(let i=8;i<txt.length;i++){
				if(txt[i] == ":"){Col = i;break};
				limit += txt[i];
			}
			try{
				limit = eval(limit);
			}catch(e){
				error = e;
			}
			
			if(typeof limit == typeof 5){
				
				let eq =txt.extract(Col+1,txt.length);
				eq = eq.replaceAll(varible,limit);
				try{
					result = eval(eq);
				}catch(e){
					error = e;
				}
			}else {
				error = "The type is not a number"
			}
			
			var restTxt = txt.extract("as x -> ".length + limit.length,txt.length);
		}else {
			error = "Invalid syntax";
		}
	}else {
		error = "Invalid syntax. A space is needed after 'as'";
	}
}else {
	error = "String doesn't start with 'as'";
}
if(result!= ""){
	document.write(`Reult:<br> ${result}`)
}
if(error != ""){
	document.write(`Error:<br> ${error}`)
}
</script>
</body>
</html>